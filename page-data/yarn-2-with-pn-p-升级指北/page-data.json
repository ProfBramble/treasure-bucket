{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/yarn-2-with-pn-p-升级指北","result":{"data":{"post":{"__typename":"MdxPost","slug":"/yarn-2-with-pn-p-升级指北","title":"Yarn2 with PnP 升级指北","date":"12.01.2021","tags":[{"name":"tools","slug":"tools"}],"description":null,"canonicalUrl":null,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Yarn2 with PnP 升级指北\",\n  \"date\": \"2021-01-12T00:00:00.000Z\",\n  \"tags\": [\"tools\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://link.zhihu.com/?target=http%3A//yarnpkg.com/\"\n  }, \"Yarn\"), \"  \\u4F5C\\u4E3A JavaScript \\u751F\\u6001\\u7684\\u4E00\\u4E2A\\u5F3A\\u5927\\u7684\\u4F9D\\u8D56\\u7BA1\\u7406\\u5DE5\\u5177\\uFF0C\\u5728\\u53BB\\u5E74\\u5E74\\u521D\\u5C31\\u6B63\\u5F0F\\u53D1\\u5E03\\u4E86 V2 \\u7248\\u672C\\uFF0C\\u4F46\\u5C31\\u5F53\\u65F6\\u7684\\u8868\\u73B0\\u60C5\\u51B5\\u6765\\u770B\\u7A33\\u5B9A\\u6027\\u5C5E\\u5B9E\\u4E0D\\u9AD8\\u3002\\u65F6\\u95F4\\u4E00\\u6643\\u5DF2\\u7ECF\\u5230\\u4E86 2021 \\u5E74\\uFF0C\\u968F\\u7740\\u53BB\\u5E74\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"webpack5\"), \"\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vite\"), \"\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"snowpack\"), \"\\u7B49\\u6784\\u5EFA\\u5DE5\\u5177\\u7684\\u5347\\u7EA7\\u4E0E\\u521B\\u65B0\\uFF0C\\u524D\\u7AEF\\u7684\\u6548\\u80FD\\u6A21\\u5757\\u4E5F\\u6709\\u4E86\\u6BD4\\u8F83\\u5927\\u7684\\u8FDB\\u6B65\\u7A7A\\u95F4\\uFF0C\\u56E0\\u6B64\\u7B14\\u8005\\u51C6\\u5907\\u5BF9\\u6784\\u5EFA\\u5DE5\\u5177\\u4E0E Yarn with PnP \\u534F\\u540C\\u8FDB\\u884C\\u524D\\u7AEF\\u5DE5\\u7A0B\\u5316\\u7684\\u6574\\u4F53\\u94FE\\u8DEF\\u63D0\\u6548\\uFF0C\\u4E8E\\u662F\\u5C31\\u8BB0\\u5F55\\u4E0B\\u6B64\\u6587\\u3002\"), mdx(\"h2\", null, \"\\u73B0\\u72B6\\u4E0E\\u75DB\\u70B9\"), mdx(\"p\", null, \"Yarn \\u56E2\\u961F\\u5F00\\u53D1 PnP \\u7279\\u6027\\u6700\\u76F4\\u63A5\\u7684\\u539F\\u56E0\\u5C31\\u662F\\u73B0\\u6709\\u7684\\u4F9D\\u8D56\\u7BA1\\u7406\\u65B9\\u5F0F\\u6548\\u7387\\u592A\\u4F4E\\u3002\\u5F15\\u7528\\u4F9D\\u8D56\\u65F6\\u6162\\uFF0C\\u5B89\\u88C5\\u4F9D\\u8D56\\u65F6\\u4E5F\\u6162\\u3002\"), mdx(\"p\", null, \"\\u800C\\u4E14\\u6211\\u4EEC\\u5728\\u6267\\u884C \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn install\"), \" \\u64CD\\u4F5C\\u4F1A\\u6267\\u884C\\u4EE5\\u4E0B\\u56DB\\u4E2A\\u6B65\\u9AA4\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u5C06\\u4F9D\\u8D56\\u5305\\u7684\\u7248\\u672C\\u533A\\u95F4\\u89E3\\u6790\\u4E3A\\u67D0\\u4E2A\\u5177\\u4F53\\u7684\\u7248\\u672C\\u53F7\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u4E0B\\u8F7D\\u5BF9\\u5E94\\u7248\\u672C\\u4F9D\\u8D56\\u7684 tar \\u5305\\u5230\\u672C\\u5730\\u79BB\\u7EBF\\u955C\\u50CF\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u5C06\\u4F9D\\u8D56\\u4ECE\\u79BB\\u7EBF\\u955C\\u50CF\\u89E3\\u538B\\u5230\\u672C\\u5730\\u7F13\\u5B58\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u5C06\\u4F9D\\u8D56\\u4ECE\\u7F13\\u5B58\\u62F7\\u8D1D\\u5230\\u5F53\\u524D\\u76EE\\u5F55\\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"node_modules\"), \" \\u76EE\\u5F55\")), mdx(\"p\", null, \"\\u5176\\u4E2D\\u7B2C 4 \\u6B65\\u540C\\u6837\\u6D89\\u53CA\\u5927\\u91CF\\u7684\\u6587\\u4EF6 I/O\\uFF0C\\u5BFC\\u81F4\\u5B89\\u88C5\\u4F9D\\u8D56\\u65F6\\u6548\\u7387\\u4E0D\\u9AD8\\uFF08\\u5C24\\u5176\\u662F\\u5728 CI \\u73AF\\u5883\\uFF0C\\u6BCF\\u6B21\\u90FD\\u9700\\u8981\\u5B89\\u88C5\\u5168\\u90E8\\u4F9D\\u8D56\\uFF09\\u3002\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"PS: \\u4E3A\\u5565\\u6709\\u65F6\\u5019\\u6211\\u4EEC\\u611F\\u89C9\\u672C\\u5730\\u5B89\\u88C5\\u4F1A\\u5F88\\u5FEB\\uFF1F\\u56E0\\u4E3A\\u73B0\\u5728\\u5927\\u591A\\u6570\\u5F00\\u53D1\\u6211\\u4EEC\\u90FD\\u4F7F\\u7528 mac\\uFF0Cmac \\u7684\\u5B58\\u50A8\\u8BBE\\u5907\\u4E3A\\u56FA\\u6001\\u786C\\u76D8\\u3002\\u5176\\u5B9E\\u65E0\\u8BBA\\u662F\\u5426\\u662F mac\\uFF0C\\u53EA\\u8981\\u5728\\u7EAF\\u56FA\\u6001\\u786C\\u76D8\\u574F\\u5883\\u4E0B\\u64CD\\u4F5C\\uFF0C\\u901F\\u5EA6\\u786E\\u5B9E\\u8FD8\\u4E0D\\u9519\\uFF0C\\u4F46\\u5728 CI \\u73AF\\u5883\\u662F\\u786C\\u4F24\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Plug\\u2019n\\u2019Play\"), \" \\uFF0C\\u4F5C\\u4E3A\\u91CD\\u5934\\u620F\\uFF0C\\u7531\\u6B64\\u800C\\u751F! \\u5B83\\u662F\\u80FD\\u5F7B\\u5E95\\u89E3\\u51B3\\u95EE\\u9898\\u540C\\u65F6\\u8FD8\\u53EF\\u4EE5\\u4E0E\\u73B0\\u6709\\u751F\\u6001\\u517C\\u5BB9\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u3002\"), mdx(\"h2\", null, \"\\u65B0\\u7279\\u6027\"), mdx(\"h3\", null, \"\\u53EF\\u8BFB\\u6027\\u66F4\\u597D\\u7684\\u8F93\\u51FA\\u65E5\\u5FD7\"), mdx(\"p\", null, \"\\u867D\\u7136\\u76F8\\u5BF9\\u4E8E\\u5176\\u4ED6\\u66FF\\u4EE3\\u65B9\\u6848\\uFF08\\u4F8B\\u5982 npm\\uFF09Yarn \\u7684\\u8F93\\u51FA\\u65E5\\u5FD7\\u7684\\u53EF\\u8BFB\\u6027\\u7B97\\u662F\\u6BD4\\u8F83\\u9AD8\\u7684\\u4E86\\uFF0C\\u53EF\\u662F\\u5B83\\u8FD8\\u662F\\u5B58\\u5728\\u5404\\u79CD\\u5404\\u6837\\u7684\\u95EE\\u9898\\uFF0C\\u4F8B\\u5982\\u5F53\\u8F93\\u51FA\\u4FE1\\u606F\\u7279\\u522B\\u591A\\u7684\\u65F6\\u5019\\uFF0C\\u5F00\\u53D1\\u8005\\u5F88\\u96BE\\u5728\\u4E00\\u5927\\u5806\\u8F93\\u51FA\\u4E2D\\u627E\\u5230\\u6709\\u7528\\u7684\\u5185\\u5BB9\\uFF0C\\u800C\\u4E14\\u8F93\\u51FA\\u65E5\\u5FD7\\u7684\\u989C\\u8272\\u5E76\\u6CA1\\u6709\\u8D77\\u5230\\u5E2E\\u52A9\\u7528\\u6237\\u5FEB\\u901F\\u8BC6\\u522B\\u51FA\\u91CD\\u8981\\u4FE1\\u606F\\u7684\\u4F5C\\u7528\\uFF0C\\u751A\\u81F3\\u8FD8\\u4F1A\\u5BF9\\u65E5\\u5FD7\\u7684\\u9605\\u8BFB\\u9020\\u6210\\u4E00\\u5B9A\\u7684\\u5E72\\u6270\\u3002\\u57FA\\u4E8E\\u8FD9\\u4E9B\\u539F\\u56E0\\uFF0Cv2 \\u7248\\u672C\\u5BF9\\u8F93\\u51FA\\u65E5\\u5FD7\\u8FDB\\u884C\\u4E86\\u4E00\\u4E9B\\u6539\\u8FDB\\uFF0C\\u6211\\u4EEC\\u5148\\u6765\\u770B\\u4E00\\u4E0B\\u5B83\\u5927\\u6982\\u53D8\\u6210\\u4E86\\u4EC0\\u4E48\\u6837\\u5B50\\u4E86\\uFF1A\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"../journal.png\",\n    \"alt\": \"journal\"\n  })), mdx(\"h3\", null, \"PnP\"), mdx(\"p\", null, \"PnP \\u7684\\u5177\\u4F53\\u5DE5\\u4F5C\\u539F\\u7406\\u662F\\uFF0C\\u4F5C\\u4E3A\\u628A\\u4F9D\\u8D56\\u4ECE\\u7F13\\u5B58\\u62F7\\u8D1D\\u5230 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \" \\u7684\\u66FF\\u4EE3\\u65B9\\u6848\\uFF0CYarn \\u4F1A\\u7EF4\\u62A4\\u4E00\\u5F20\\u9759\\u6001\\u6620\\u5C04\\u8868\\uFF0C\\u8BE5\\u8868\\u4E2D\\u5305\\u542B\\u4E86\\u4EE5\\u4E0B\\u4FE1\\u606F\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5F53\\u524D\\u4F9D\\u8D56\\u6811\\u4E2D\\u5305\\u542B\\u4E86\\u54EA\\u4E9B\\u4F9D\\u8D56\\u5305\\u7684\\u54EA\\u4E9B\\u7248\\u672C\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u8FD9\\u4E9B\\u4F9D\\u8D56\\u5305\\u662F\\u5982\\u4F55\\u4E92\\u76F8\\u5173\\u8054\\u7684\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u8FD9\\u4E9B\\u4F9D\\u8D56\\u5305\\u5728\\u6587\\u4EF6\\u7CFB\\u7EDF\\u4E2D\\u7684\\u5177\\u4F53\\u4F4D\\u7F6E\")), mdx(\"p\", null, \"\\u8FD9\\u4E2A\\u6620\\u5C04\\u8868\\u5728 Yarn \\u7684 PnP \\u5B9E\\u73B0\\u4E2D\\u5BF9\\u5E94\\u9879\\u76EE\\u76EE\\u5F55\\u4E2D\\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".pnp.js\"), \" \\u6587\\u4EF6\\u3002\"), mdx(\"p\", null, \"\\u8FD9\\u4E2A \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".pnp.js\"), \" \\u6587\\u4EF6\\u662F\\u5982\\u4F55\\u751F\\u6210\\uFF0CYarn \\u53C8\\u662F\\u5982\\u4F55\\u5229\\u7528\\u5B83\\u7684\\u5462\\uFF1F\"), mdx(\"p\", null, \"\\u5728\\u5B89\\u88C5\\u4F9D\\u8D56\\u65F6\\uFF0C\\u5728\\u7B2C 3 \\u6B65\\u5B8C\\u6210\\u4E4B\\u540E\\uFF0CYarn \\u5E76\\u4E0D\\u4F1A\\u62F7\\u8D1D\\u4F9D\\u8D56\\u5230 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \" \\u76EE\\u5F55\\uFF0C\\u800C\\u662F\\u4F1A\\u5728 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".pnp.js\"), \" \\u4E2D\\u8BB0\\u5F55\\u4E0B\\u8BE5\\u4F9D\\u8D56\\u5728\\u7F13\\u5B58\\u4E2D\\u7684\\u5177\\u4F53\\u4F4D\\u7F6E\\u3002\\u8FD9\\u6837\\u5C31\\u907F\\u514D\\u4E86\\u5927\\u91CF\\u7684 I/O \\u64CD\\u4F5C\\u540C\\u65F6\\u9879\\u76EE\\u76EE\\u5F55\\u4E5F\\u4E0D\\u4F1A\\u6709 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \" \\u76EE\\u5F55\\u751F\\u6210\\u3002\"), mdx(\"p\", null, \"\\u540C\\u65F6 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".pnp.js\"), \" \\u8FD8\\u5305\\u542B\\u4E86\\u4E00\\u4E2A\\u7279\\u6B8A\\u7684 resolver\\uFF0CYarn \\u4F1A\\u5229\\u7528\\u8FD9\\u4E2A\\u7279\\u6B8A\\u7684 resolver \\u6765\\u5904\\u7406 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"require()\"), \" \\u8BF7\\u6C42\\uFF0C\\u8BE5 resolver \\u4F1A\\u6839\\u636E \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".pnp.js\"), \" \\u6587\\u4EF6\\u4E2D\\u5305\\u542B\\u7684\\u9759\\u6001\\u6620\\u5C04\\u8868\\u76F4\\u63A5\\u786E\\u5B9A\\u4F9D\\u8D56\\u5728\\u6587\\u4EF6\\u7CFB\\u7EDF\\u4E2D\\u7684\\u5177\\u4F53\\u4F4D\\u7F6E\\uFF0C\\u4ECE\\u800C\\u907F\\u514D\\u4E86\\u73B0\\u6709\\u5B9E\\u73B0\\u5728\\u5904\\u7406\\u4F9D\\u8D56\\u5F15\\u7528\\u65F6\\u7684 I/O \\u64CD\\u4F5C\\u3002\"), mdx(\"h4\", null, \"\\u5E26\\u6765\\u7684\\u597D\\u5904\"), mdx(\"p\", null, \"\\u4ECE PnP \\u7684\\u5B9E\\u73B0\\u65B9\\u6848\\u53EF\\u4EE5\\u770B\\u51FA\\uFF0C\\u540C\\u4E00\\u4E2A\\u7CFB\\u7EDF\\u4E0A\\u4E0D\\u540C\\u9879\\u76EE\\u5F15\\u7528\\u7684\\u76F8\\u540C\\u4F9D\\u8D56\\u7684\\u76F8\\u540C\\u7248\\u672C\\u5B9E\\u9645\\u90FD\\u662F\\u6307\\u5411\\u7684\\u7F13\\u5B58\\u4E2D\\u7684\\u540C\\u4E00\\u4E2A\\u76EE\\u5F55\\u3002\\u8FD9\\u5E26\\u6765\\u4E86\\u51E0\\u4E2A\\u6700\\u76F4\\u89C2\\u7684\\u597D\\u5904\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5B89\\u88C5\\u4F9D\\u8D56\\u7684\\u901F\\u5EA6\\u5F97\\u5230\\u4E86\\u7A7A\\u524D\\u7684\\u63D0\\u5347 (\\u7B2C\\u4E00\\u6B21\\u5B89\\u88C5\\u6CA1\\u5565\\u611F\\u89C9\\uFF0C\\u4E4B\\u540E\\u5B89\\u88C5\\u7684\\u901F\\u5EA6\\u6781\\u5FEB)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"CI \\u73AF\\u5883\\u4E2D\\u591A\\u4E2A CI \\u5B9E\\u4F8B\\u53EF\\u4EE5\\u5171\\u4EAB\\u540C\\u4E00\\u4EFD\\u7F13\\u5B58\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u540C\\u4E00\\u4E2A\\u7CFB\\u7EDF\\u4E2D\\u7684\\u591A\\u4E2A\\u9879\\u76EE\\u4E0D\\u518D\\u9700\\u8981\\u5360\\u7528\\u591A\\u4EFD\\u78C1\\u76D8\\u7A7A\\u95F4 (\\u5982 monorepo \\u4E2D\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"lerna\"), \" \\u6A21\\u5F0F)\")), mdx(\"h2\", null, \"\\u4EA4\\u4E92\\u6A21\\u5F0F\\uFF08interactive mode\\uFF09\"), mdx(\"p\", null, \"\\u5047\\u5982\\u4F60\\u8981\\u5728\\u9879\\u76EE\\u7684\\u67D0\\u4E2A workspace \\u4E2D\\u5F15\\u5165\\u67D0\\u4E2A\\u4F9D\\u8D56\\uFF0C\\u4F60\\u53EF\\u80FD\\u8981\\u8003\\u8651\\u5176\\u4ED6 workspaces \\u662F\\u5426\\u4E5F\\u7528\\u5230\\u4E86\\u8FD9\\u4E2A\\u4F9D\\u8D56\\uFF0C\\u800C\\u4E14\\u8981\\u907F\\u514D\\u5F15\\u5165\\u4E0D\\u517C\\u5BB9\\u7684\\u7248\\u672C\\u3002v2 \\u7248\\u672C\\u4E2D\\uFF0C\\u4F60\\u53EF\\u4EE5\\u4F7F\\u7528\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"-i\"), \"\\u53C2\\u6570\\u6765\\u8BA9\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn add\"), \"\\u547D\\u4EE4\\u8FDB\\u5165\\u5230\\u4EA4\\u4E92\\u6A21\\u5F0F\\uFF0C\\u8FD9\\u6837 yarn \\u5C31\\u4F1A\\u5E2E\\u4F60\\u68C0\\u67E5\\u8FD9\\u4E2A\\u4F9D\\u8D56\\u6709\\u6CA1\\u6709\\u5728\\u5176\\u4ED6 workspaces \\u4E2D\\u88AB\\u4F7F\\u7528\\uFF0C\\u5E76\\u4E14\\u4F1A\\u8BA9\\u4F60\\u9009\\u62E9\\u662F\\u8981\\u590D\\u7528\\u5176\\u4ED6 workspaces \\u4E2D\\u7684\\u4F9D\\u8D56\\u7248\\u672C\\u8FD8\\u662F\\u4F7F\\u7528\\u53E6\\u5916\\u7684\\u7248\\u672C\\u3002\"), mdx(\"p\", null, \"\\u5E76\\u4E14\\u652F\\u6301\\u81EA\\u52A8\\u53D1\\u5E03\\u5173\\u8054\\u7684 workspace\\uFF0C\\u4E4B\\u524D\\u5728 monorepo \\u5F00\\u53D1\\u6A21\\u5F0F\\u4E0B\\u5F53\\u67D0\\u4E2A\\u5305\\u53D1\\u5E03\\u4E86\\u65B0\\u7684\\u7248\\u672C\\u4E4B\\u540E\\uFF0C\\u53D1\\u5E03\\u5176\\u5B83\\u76F8\\u5173\\u8054\\u7684\\u5305\\u5341\\u5206\\u9EBB\\u70E6\\u3002\\u4E3A\\u4E86\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0CYarn v2 \\u7248\\u672C\\u91C7\\u53D6\\u4E86\\u548C Lerna \\u4EE5\\u53CA\\u5176\\u4ED6\\u7C7B\\u4F3C\\u5DE5\\u5177\\u5B8C\\u5168\\u4E0D\\u540C\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u5B83\\u628A\\u8FD9\\u90E8\\u5206\\u903B\\u8F91\\u653E\\u5728\\u4E86\\u4E00\\u4E2A\\u5355\\u72EC\\u7684\\u53EB\\u505A \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://next.yarnpkg.com/features/release-workflow\"\n  }, \"version \\u7684\\u63D2\\u4EF6\"), \"\\u4E2D\\u3002version \\u63D2\\u4EF6\\u5141\\u8BB8\\u4F60\\u5C06\\u4E00\\u90E8\\u5206\\u5305\\u7248\\u672C\\u7BA1\\u7406\\u5DE5\\u4F5C\\u5206\\u53D1\\u7ED9\\u4F60\\u7684\\u4EE3\\u7801\\u8D21\\u732E\\u8005\\uFF0C\\u800C\\u4E14\\u5B83\\u8FD8\\u63D0\\u4F9B\\u4E86\\u4E00\\u4E2A\\u53CB\\u597D\\u7684\\u4EA4\\u4E92\\u754C\\u9762\\u6765\\u8BA9\\u4F60\\u5341\\u5206\\u5BB9\\u6613\\u5730\\u7BA1\\u7406\\u5173\\u8054\\u5305\\u7684\\u53D1\\u5E03\\u3002\"), mdx(\"h2\", null, \"\\u96F6\\u5B89\\u88C5\\uFF08Zero-Installs\\uFF09\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://next.yarnpkg.com/features/zero-installs\"\n  }, \"\\u4F9D\\u8D56\\u96F6\\u5B89\\u88C5\"), \"\\u66F4\\u50CF\\u662F\\u4E00\\u4E2A\\u7406\\u5FF5\\u800C\\u4E0D\\u662F\\u4E00\\u4E2A\\u529F\\u80FD\\uFF0C\\u5728\\u6211\\u4EEC\\u5B89\\u88C5\\u5B8C\\u4F9D\\u8D56\\u540E\\uFF0C\\u4F9D\\u8D56\\u6587\\u4EF6\\u90FD\\u7F13\\u5B58\\u5728\\u9879\\u76EE\\u6587\\u4EF6\\u5939\\u4E2D\\uFF08.yarn/cache\\uFF09\\uFF0C\\u53EA\\u9700\\u786E\\u4FDD\\u5C06\\u5176\\u4E0A\\u4F20\\u5230 git \\u5373\\u53EF\\u5B8C\\u6210\\u96F6\\u5B89\\u88C5\\uFF0C\\u540C\\u65F6\\u4FDD\\u8BC1\\u4F9D\\u8D56\\u7248\\u672C\\u4E00\\u81F4\\u6027\\u3002\"), mdx(\"p\", null, \"\\u5728\\u6211\\u4EEC\\u8FD0\\u884C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn install\"), \"\\u540E\\uFF0CYarn \\u5C06\\u751F\\u6210\\u4E00\\u4E2A\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".pnp.js\"), \"\\u6587\\u4EF6\\u3002\\u4E5F\\u5C06\\u5176\\u6DFB\\u52A0\\u5230\\u60A8\\u7684\\u5B58\\u50A8\\u5E93\\uFF0C\\u5B83\\u5305\\u542B Node \\u5C06\\u7528\\u4E8E\\u52A0\\u8F7D\\u7A0B\\u5E8F\\u5305\\u7684\\u4F9D\\u8D56\\u5173\\u7CFB\\u6811\\u3002\"), mdx(\"p\", null, \"\\u770B\\u5230\\u8FD9\\u91CC\\u4F60\\u4E00\\u5B9A\\u5F88\\u60CA\\u8BB6\\uFF0C\\u5C45\\u7136\\u628A\\u6574\\u4E2A\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \"\\u4E0A\\u4F20\\u5230 git \\u4E0A\\uFF0C\\u8FD9\\u4E2A\\u505A\\u6CD5\\u592A\\u75AF\\u72C2\\u3002\\u5982\\u679C\\u771F\\u7684\\u76F4\\u63A5\\u628A node_modules \\u63D0\\u4EA4\\u5230\\u8FDC\\u7AEF\\u4ED3\\u5E93\\u7684\\u8BDD\\uFF0C\\u6BCF\\u6B21\\u63D0\\u4EA4\\u90FD\\u662F\\u4E00\\u4E2A\\u5669\\u68A6\\uFF0C\\u56E0\\u4E3A node_modules \\u7684\\u5C0F\\u6587\\u4EF6\\u5F88\\u591A\\uFF0C\\u800C\\u4E14\\u5BB9\\u91CF\\u5927\\u3002\\u4E0D\\u4EC5\\u6BCF\\u6B21\\u63D0\\u4EA4\\u4E0B\\u8F7D\\u800C\\u4E14\\u5408\\u5E76\\u51B2\\u7A81\\u4E5F\\u662F\\u5669\\u68A6\\u3002\"), mdx(\"p\", null, \"\\u4E3A\\u4E86\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0Cv2 \\u7248\\u672C\\u9ED8\\u8BA4\\u5F00\\u542F\\u4E86 Plug'n'Play + zip loading \\u7684\\u529F\\u80FD\\uFF0C\\u8FD9\\u4E2A\\u529F\\u80FD\\u5F00\\u542F\\u540E\\u4F60\\u7684\\u9879\\u76EE\\u5C06\\u4E0D\\u518D\\u5B58\\u5728 node_modules \\u6587\\u4EF6\\u5939\\uFF0C\\u6240\\u6709\\u7684\\u4F9D\\u8D56\\u90FD\\u4F1A\\u88AB\\u538B\\u7F29\\uFF0C\\u5E76\\u4E14\\u4F53\\u79EF\\u5F88\\u5C0F\\uFF0C\\u539F\\u672C\\u9700\\u8981\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1.2\"), \"GB \\u7684\\u4F9D\\u8D56\\uFF0C\\u4E0B\\u8F7D\\u53EA\\u9700\\u8981\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"150\"), \"MB\\u3002\\u5E76\\u4E14\\u6570\\u91CF\\u4E0D\\u4F1A\\u5F88\\u591A\\uFF0C\\u4E00\\u822C\\u90FD\\u4EE5\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\u5305\\u540D+\\u7248\\u672C\\u53F7+hash\"), \"\\u547D\\u540D\\u3002\\u4F7F\\u7528\\u4F9D\\u8D56\\u96F6\\u5B89\\u88C5\\u6709\\u54EA\\u4E9B\\u597D\\u5904\\u5462\\uFF1F\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"dev\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u4EE3\\u7801 review \\u7684\\u65F6\\u5019\\u53EF\\u4EE5\\u975E\\u5E38\\u6E05\\u695A\\u7684\\u770B\\u89C1\\u54EA\\u4E9B\\u4F9D\\u8D56\\u53D1\\u751F\\u4E86\\u53D8\\u5316\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u66F4\\u5FEB\\uFF0C\\u66F4\\u7B80\\u5355\\uFF0C\\u66F4\\u7A33\\u5B9A\\u7684 CI \\u90E8\\u7F72\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u6BCF\\u6B21\\u90E8\\u7F72\\u4EE3\\u7801\\u65F6\\uFF0C\\u4F9D\\u8D56\\u7684 install \\u5360\\u7528\\u7684\\u65F6\\u95F4\\u4E00\\u76F4\\u662F\\u4E00\\u4E2A\\u5927\\u5934\\uFF0C\\u53BB\\u6389\\u8FD9\\u4E2A\\u6B65\\u9AA4\\uFF0C\\u6574\\u4E2A\\u6D41\\u6C34\\u7EBF\\u901F\\u5EA6\\u4F1A\\u5927\\u5927\\u63D0\\u5347\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u4E0D\\u4F1A\\u5B58\\u5728\\u672C\\u5730\\u73AF\\u5883\\u8FD0\\u884C\\u6B63\\u5E38\\uFF0C\\u800C\\u7EBF\\u4E0A\\u73AF\\u5883\\u8FD0\\u884C\\u6302\\u6389\\u7684\\u95EE\\u9898\")))), mdx(\"h2\", null, \"\\u51C6\\u5907\\u5DE5\\u4F5C\"), mdx(\"p\", null, \"\\u9996\\u5148\\u5347\\u7EA7\\u5230 yarn2+ \\u7248\\u672C\\uFF0C\\u6B64\\u7248\\u672C\\u81EA\\u5E26 PnP\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-none\"\n  }, \"npm install -g yarn@berry\\n\")), mdx(\"p\", null, \"\\u5F00\\u59CB\\u524D\\u6211\\u4EEC\\u67E5\\u770B\\u4E0B\\u5F53\\u524D\\u7684 yarn \\u7248\\u672C\\u53F7\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-none\"\n  }, \"yarn -v // 2.4.0\\n\")), mdx(\"h2\", null, \"step1\"), mdx(\"p\", null, \"\\u7531\\u4E8E yarn2 \\u548C yarn1 \\u57FA\\u672C\\u4E0D\\u517C\\u5BB9\\uFF0C\\u6240\\u4EE5\\u4E3A\\u4E86\\u907F\\u514D yarn1 \\u7684\\u51B2\\u7A81\\uFF0C\\u5148\\u6E05\\u7406\\u6389\\u9879\\u76EE\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \"\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn.lock\"), \"\\uFF0C\\u7136\\u540E\\u6267\\u884C\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-none\"\n  }, \"// yarn > 1.22\\nyarn set version berry\\n\\n// yarn < 1.22\\nyarn policies set-version berry \\n\")), mdx(\"p\", null, \"\\u6267\\u884C\\u540E\\u9879\\u76EE\\u5C31\\u88AB\\u660E\\u786E\\u58F0\\u660E\\u4E3A yarn2 \\u9879\\u76EE\\u3002\\u51FA\\u73B0\\u4E86\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".yarnrc.yml\"), \"\\u6587\\u4EF6\\u4E0E\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".yarn\"), \"\\u76EE\\u5F55\\u3002\"), mdx(\"h2\", null, \"step2\"), mdx(\"p\", null, \"\\u4E4B\\u540E\\u7684\\u5B89\\u88C5\\u6B65\\u9AA4\\u548C \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn@1.x\"), \" \\u6CA1\\u5565\\u533A\\u522B\\uFF0C\\u76F4\\u63A5 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn\"), \" \\u5B89\\u88C5\\u4F9D\\u8D56\\u5373\\u53EF\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-none\"\n  }, \"yarn\\n\")), mdx(\"p\", null, \"\\u7B14\\u8005\\u5728\\u5B89\\u88C5\\u8FC7\\u7A0B\\u4E2D\\u51FA\\u73B0\\u4E86\\u62A5\\u9519\\uFF0C\\u6700\\u540E\\u53D1\\u73B0\\u662F\\u9879\\u76EE\\u6587\\u4EF6\\u5939\\u9876\\u5C42\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"User\"), \"\\u6587\\u4EF6\\u5939\\u4ECD\\u7136\\u5B58\\u5728\\u4E00\\u4EFD \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn.lock\"), \" \\u6240\\u81F4\\uFF0C\\u628A\\u5176\\u6E05\\u9664\\u540E\\u91CD\\u65B0\\u5B89\\u88C5\\u4F9D\\u8D56\"), mdx(\"h2\", null, \"step3\"), mdx(\"p\", null, \"\\u5B89\\u88C5\\u5B8C\\u6BD5\\u540E\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u770B\\u89C1\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \"\\u4F9D\\u7136\\u4E0D\\u590D\\u5B58\\u5728\\uFF0C\\u4EE3\\u66FF\\u5B83\\u7684\\u662F .yarn \\u76EE\\u5F55\\uFF0C\\u91CC\\u9762\\u6709 cache\\u3001unplugged \\u4EE5\\u53CA\\u5916\\u9762\\u4E00\\u4E2A .pnp.js \\u6211\\u4EEC\\u7684\\u4F9D\\u8D56\\u5728 .yarn \\u6587\\u4EF6\\u5939\\u7684 cache \\u76EE\\u5F55\\u4E2D\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-none\"\n  }, \".yarn\\n\\u251C\\u2500\\u2500 cache // \\u9879\\u76EE\\u4F9D\\u8D56\\u6587\\u4EF6\\uFF0C\\u5747\\u53D8\\u4E3A\\u4E00\\u4E2A\\u4E2Azip\\n\\u251C\\u2500\\u2500 releases\\n\\u251C\\u2500\\u2500 sdks // IDE\\u5BF9PnP\\u7684\\u652F\\u6301\\uFF0C\\u4E00\\u822C\\u662F\\u9488\\u5BF9ts,eslint prettier\\u7B49\\n\\u2502   \\u2514\\u2500\\u2500 eslint\\n\\u2502   \\u2514\\u2500\\u2500 typescript\\n\\u2502   \\u2514\\u2500\\u2500 integrations.yml\\n\\u251C\\u2500\\u2500 unplugged // \\u9700\\u8981\\u8C03\\u8BD5\\u7684\\u9879\\u76EE\\u4F9D\\u8D56\\uFF0C\\u548Cnode_modules\\u91CC\\u4E00\\u6837\\uFF0C\\u6709\\u5B8C\\u6574\\u5185\\u5BB9\\n\\u251C\\u2500\\u2500 build-state.yml\\n\\u251C\\u2500\\u2500 install-state.gz\\n\\n\")), mdx(\"h2\", null, \"Tips\"), mdx(\"h3\", null, \"\\u79C1\\u6709\\u5E93\\u8BBE\\u7F6E\"), mdx(\"p\", null, \"\\u5982\\u679C\\u4F60\\u4F7F\\u7528\\u7684\\u5E93\\u9700\\u8981\\u4ECE\\u79C1\\u6709\\u6E90\\u62C9\\u53D6\\uFF0C\\u8BF7\\u5148\\u67E5\\u770B\\u5E76\\u66F4\\u6539 yarn \\u914D\\u7F6E\\u3002\\u66F4\\u6539 yarn \\u6E90\\uFF0C\\u7531\\u4E8E\\u548C Yarn 1.x \\u7684\\u914D\\u7F6E\\u5DEE\\u5F02\\u633A\\u5927\\uFF0C\\u5168\\u90E8\\u7684\\u914D\\u7F6E\\u53EF\\u67E5\\u9605\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://yarnpkg.com/configuration/yarnrc\"\n  }, \"\\u5B98\\u65B9\\u914D\\u7F6E\\u6587\\u6863\"), \"\\uFF0C\\u672C\\u6587\\u5BF9\\u79C1\\u6709\\u6E90\\u914D\\u7F6E\\u505A\\u4E00\\u4E2A\\u793A\\u4F8B\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-none\"\n  }, \"yarn config set npmRegistryServer http://registry.npm.dtstack.com  \\n\")), mdx(\"p\", null, \"\\u540C\\u65F6\\u547D\\u4EE4\\u884C\\u4FEE\\u6539\\u7684\\u914D\\u7F6E\\u6587\\u4EF6\\u5C31\\u662F\\u5F53\\u524D\\u5DE5\\u4F5C\\u533A\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".yarnrc.yml\"), \"\\u6587\\u4EF6\\uFF0C\\u56E0\\u6B64\\u4E5F\\u53EF\\u4EE5\\u76F4\\u63A5\\u4FEE\\u6539\\u6B64\\u6587\\u4EF6\\u3002\"), mdx(\"p\", null, \"\\u7531\\u4E8E\\u6E90\\u4E0D\\u662F HTTPS\\uFF0C\\u56E0\\u6B64\\u8FD8\\u9700\\u8981\\u8BBE\\u7F6E\\u8FDB\\u5165\\u767D\\u540D\\u5355,\\u6211\\u539F\\u672C\\u76F4\\u63A5\\u628A URI \\u8BBE\\u7F6E\\u5165\\u767D\\u540D\\u5355\\uFF0C\\u53D1\\u73B0\\u5E76\\u6CA1\\u6709\\u4EC0\\u4E48\\u7528\\uFF0C\\u67E5\\u770B\\u4E86 yarn \\u6E90\\u7801\\u540E\\u53D1\\u73B0\\u53D6\\u7684\\u662F\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"URL.hostname\"), \"\\uFF0C\\u56E0\\u6B64\\u6211\\u4EEC\\u5E94\\u8BE5\\u5982\\u4E0B\\u8BBE\\u7F6E\\uFF0C\\u914D\\u7F6E\\u9879\\u4E5F\\u652F\\u6301\\u6A21\\u7CCA\\u5339\\u914D\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-none\"\n  }, \"yarn config set unsafeHttpWhitelist registry.npm.dtstack.com   \\n\")), mdx(\"p\", null, \"\\u5B8C\\u6210\\u4E0A\\u8FF0\\u914D\\u7F6E\\u540E\\uFF0C\\u6587\\u4EF6\\u5E94\\u8BE5\\u542B\\u6709\\u4EE5\\u4E0B\\u5185\\u5BB9\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-none\"\n  }, \"// .yarnrc.yml\\n\\nnpmRegistryServer: \\\"http://registry.npm.dtstack.com\\\"\\n\\nunsafeHttpWhitelist: registry.npm.dtstack.com\\n\\nyarnPath: .yarn/releases/yarn-berry.cjs\\n\")), mdx(\"h3\", null, \"\\u4F9D\\u8D56\\u5B89\\u88C5\\u5931\\u8D25\"), mdx(\"p\", null, \"yarn2 \\u7684\\u8F93\\u51FA\\u65E5\\u5FD7\\u53EF\\u8BFB\\u6027\\u8FD8\\u662F\\u6BD4\\u8F83\\u9AD8\\u7684\\uFF0C\\u53EF\\u4EE5\\u4ECE\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://yarnpkg.com/advanced/error-codes#yn0009---build_failed\"\n  }, \"\\u72B6\\u6001\\u7801\\u8BF4\\u660E\"), \"\\u627E\\u5230\\u89E3\\u51B3\\u95EE\\u9898\\u7684\\u601D\\u8DEF\\u3002\"), mdx(\"p\", null, \"\\u7B14\\u8005\\u9047\\u5230\\u7684\\u9519\\u8BEF\\u4EE3\\u7801\\u662F\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"YN0009 - \", mdx(\"inlineCode\", {\n    parentName: \"em\"\n  }, \"BUILD_FAILED\")), \" \\uFF0C\\u65E5\\u5FD7\\u8F93\\u51FA\\u7684\\u5185\\u5BB9\\u4E3A\\u9879\\u76EE workspace \\u6784\\u5EFA\\u5931\\u8D25\\uFF0C\\u7ECF\\u8FC7\\u67E5\\u627E\\u53D1\\u73B0\\u662F\\u9879\\u76EE \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" \\u4E2D\\u7684 script \\u542B\\u6709\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/.*npm.*/\"), \"\\u76F8\\u5173\\u5185\\u5BB9\\u6240\\u81F4\\u3002\\n\\u9519\\u8BEF\\u65E5\\u5FD7\\u5982\\u56FE\\uFF1A\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"../errorInfo.png\",\n    \"alt\": \"errorInfo\"\n  })), mdx(\"h3\", null, \"node_modules \\u76F8\\u5173\"), mdx(\"p\", null, \"\\u73B0\\u5728\\u9879\\u76EE\\u4E0D\\u518D\\u6709 node_modules \\u6587\\u4EF6\\u5939\\uFF0C\\u4E5F\\u6CA1\\u6709\\u5BF9\\u5E94\\u7684 .bin \\u6587\\u4EF6\\uFF0C\\u4E4B\\u524D\\u4F9D\\u8D56\\u8FD9\\u4E9B\\u7684\\u6587\\u4EF6\\u53EA\\u9700\\u8981\\u4FEE\\u6539\\u4E3A \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn run\"), \" \\u5373\\u53EF\\u6B63\\u5E38\\u8FD0\\u884C\\u3002\"), mdx(\"p\", null, \"\\u4F8B\\u5982\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-node\"\n  }, \"node --max_old_space_size=4092 ./node_modules/.bin/webpack-dev-server --inline --config build/dev.js --open\\n\")), mdx(\"p\", null, \"\\u4FEE\\u6539\\u4E3A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-node\"\n  }, \"yarn run webpack-dev-server --max_old_space_size=4092  --inline --config build/dev.js --open\\n\")), mdx(\"p\", null, \"\\u5982\\u679C\\u9879\\u76EE\\u7528\\u6709\\u76F4\\u63A5\\u8C03\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node\"), \" \\u7684\\u5185\\u5BB9\\u4E5F\\u9700\\u8981\\u66F4\\u6539\\u4E3A\\u4F7F\\u7528 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn node\"), \" \\u542F\\u52A8\"), mdx(\"h3\", null, \"\\u8C03\\u8BD5\\u4F9D\\u8D56\"), mdx(\"p\", null, \"\\u540C\\u4E0A\\u6587\\uFF0C\\u5728 PnP \\u6A21\\u5F0F\\u4E0B\\u7531\\u4E8E\\u4F9D\\u8D56\\u90FD\\u6307\\u5411\\u4E86\\u5168\\u5C40\\u7F13\\u5B58\\uFF0C\\u6211\\u4EEC\\u4E0D\\u518D\\u53EF\\u4EE5\\u76F4\\u63A5\\u4FEE\\u6539\\u8FD9\\u4E9B\\u4F9D\\u8D56\\u3002\\u9488\\u5BF9\\u8FD9\\u79CD\\u573A\\u666F\\uFF0CYarn \\u63D0\\u4F9B\\u4E86 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn unplug [packageName]\"), \" \\u6765\\u5C06\\u67D0\\u4E2A\\u6307\\u5B9A\\u4F9D\\u8D56\\u62F7\\u8D1D\\u5230\\u9879\\u76EE\\u4E2D\\u7684 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".yarn/unplugged\"), \" \\u76EE\\u5F55\\u4E0B\\u3002\\u5176\\u5B9E\\u662F\\u5728 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" \\u4E2D\\u5199\\u5165\\u4E86\\u4EE5\\u4E0B\\u914D\\u7F6E\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-none\"\n  }, \"\\\"dependenciesMeta\\\": {\\n    \\\"node-sass\\\": {\\n      \\\"built\\\": false\\n    },\\n    \\\"webpack@4.46.0\\\": {\\n      \\\"unplugged\\\": true\\n    },\\n    \\\"webpack-dev-server@3.11.2\\\": {\\n      \\\"unplugged\\\": true\\n    }\\n  },\\n\")), mdx(\"p\", null, \"\\u4E4B\\u540E \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".pnp.js\"), \" \\u4E2D\\u7684 resolver \\u5C31\\u4F1A\\u81EA\\u52A8\\u52A0\\u8F7D\\u8FD9\\u4E2A unplug \\u7684\\u7248\\u672C\\u3002\"), mdx(\"p\", null, \"\\u8C03\\u8BD5\\u5B8C\\u6BD5\\u540E\\uFF0C\\u518D\\u6267\\u884C \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn unplug --clear packageName\"), \" \\u53EF\\u79FB\\u9664\\u672C\\u5730 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".pnp/unplugged\"), \" \\u4E2D\\u7684\\u5BF9\\u5E94\\u4F9D\\u8D56\\u3002\"), mdx(\"h3\", null, \"Webpack4 \\u76F8\\u5173\"), mdx(\"p\", null, \"Webpack5 \\u672C\\u8EAB\\u5DF2\\u7ECF\\u652F\\u6301 PnP\\uFF0C\\u4F46\\u662F\\u5982\\u679C\\u4F7F\\u7528\\u7684 Webpack4 \\u5C31\\u9700\\u8981\\u5B89\\u88C5\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/arcanis/pnp-webpack-plugin\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"pnp-webpack-plugin\")), \"\\u63D2\\u4EF6\"), mdx(\"h3\", null, \"IDE \\u652F\\u6301\"), mdx(\"p\", null, \"\\u5982\\u679C\\u4F7F\\u7528\\u7684\\u662F VsCode\\uFF0C\\u8981\\u70B9\\u662F\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u5B89\\u88C5\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://marketplace.visualstudio.com/items?itemName=arcanis.vscode-zipfs\"\n  }, \"ZipFS\"), \" VSCode \\u6269\\u5C55\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u786E\\u4FDD\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"typescript\"), \"\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"eslint\"), \"\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"prettier\"), \"\\u7B49\\u4F7F\\u7528\\u7684 IDE \\u6269\\u5C55\\u6240\\u6709\\u76F8\\u5173\\u6027\\u5728\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"top level\"), \"\\u9879\\u76EE\\uFF08\\u800C\\u4E0D\\u662F\\u968F\\u673A\\u7684\\u5DE5\\u4F5C\\u7A7A\\u95F4\\uFF09\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Run \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"yarn dlx @yarnpkg/pnpify --sdk vscode\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u5BF9\\u8FD9\\u4E9B\\u53D8\\u66F4\\u5C31\\u884C git commit\\uFF0C\\u5176\\u4ED6\\u4EBA\\u5C31\\u4E0D\\u5FC5\\u9075\\u5FAA\\u76F8\\u540C\\u7684\\u8FC7\\u7A0B\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u5BF9\\u4E8E TypeScript\\uFF0C\\u4E0D\\u8981\\u5FD8\\u8BB0\\u5728 VSCode \\u4E2D\\u9009\\u62E9 \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://code.visualstudio.com/docs/typescript/typescript-compiling#_using-the-workspace-version-of-typescript\"\n  }, \"Use Workspace Version\"), \"\\u3002\")), mdx(\"p\", null, \"\\u66F4\\u591A\\u5173\\u4E8EIDE\\u7684\\u652F\\u6301\\u8BF4\\u660E \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://yarnpkg.com/getting-started/editor-sdks\"\n  }, \"yarn\\u5B98\\u7F51\"), \" \\u6709\\u8BE6\\u7EC6\\u5BF9IDE\\u652F\\u6301\\u7684\\u8BF4\\u660E\"), mdx(\"h3\", null, \"Cannot find module \", \"[...]\"), mdx(\"p\", null, \"\\u7531\\u4E8E\\u67D0\\u4E9B\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package\"), \"\\u7684\\u4F9D\\u8D56\\u5173\\u7CFB\\u53EF\\u80FD\\u672A\\u6B63\\u786E\\u6307\\u5B9A\\u3002\\u4F8B\\u5982\\uFF0C\\u8FD0\\u884C\\u8FC7\\u7A0B\\u4E2D\\u53D1\\u73B0\\u7F3A\\u5C11\\u4E00\\u4E2A\\u4F9D\\u8D56\\u5173\\u7CFB\\uFF0C\\u5BFC\\u81F4Yarn\\u62D2\\u7EDD\\u5BF9\\u5176\\u8FDB\\u884C\\u8BBF\\u95EE\\u3002\\u7B14\\u8005\\u76EE\\u524D\\u5728webpack-dev-server\\u8FD0\\u884C\\u540E\\u65E5\\u5FD7\\u4E5F\\u51FA\\u73B0\\u4E86\\u6B64\\u95EE\\u9898\\uFF0C\\u6765\\u6E90\\u81EA\\u6211\\u53F8\\u5185\\u90E8\\u7EF4\\u62A4\\u7684\\u4E00\\u4E2A\\u4F9D\\u8D56\\u3002\"), mdx(\"p\", null, \"\\u9488\\u5BF9\\u8FD9\\u79CD\\u60C5\\u51B5\\uFF0C\\u914D\\u7F6E\\u6587\\u4EF6\\u4E2D\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"packageExtensions\"), \"\\u5B57\\u6BB5\\u63D0\\u4F9B\\u4E86\\u4E00\\u79CD\\u6269\\u5C55\\u5305\\u5B9A\\u4E49\\u7684\\u65B9\\u6CD5\\u3002\\u5F53\\u7136\\u4E5F\\u53EF\\u4EE5\\u5411\\u5B98\\u65B9\\u63D0PR\\u5B8C\\u5584\\u5176\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"plugin-compat\"), \"\\u6570\\u636E\\u5E93\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"// \\u6269\\u5C55\\u540D\\u4EC5\\u5E94\\u7528\\u4E0E\\u5176\\u7248\\u672C\\u4E0E\\u8303\\u56F4\\u5339\\u914D\\u7684\\u8F6F\\u4EF6\\u5305\\uFF0C\\u6240\\u4EE5\\u65E0\\u8BBA\\u8F6F\\u4EF6\\u5305\\u6765\\u81EA\\u4F55\\u5904\\u90FD\\u6CA1\\u6709\\u533A\\u522B\\uFF0C\\u4EC5\\u4EC5\\u662F\\u7248\\u672C\\u91CD\\u8981\\npackageExtensions:\\n    webpack@*:\\n        dependencies:\\n            lodash: \\\"^4.15.0\\\"\\n        peerDependencies:\\n            webpack-cli: \\\"*\\\"\\n\")), mdx(\"p\", null, \"\\u4F46\\u7531\\u4E8E\\u7B14\\u8005\\u4ECE\\u65E5\\u5FD7\\u5904\\u53D1\\u73B0\\u7F3A\\u5931\\u7684\\u4F9D\\u8D56\\u8FD8\\u662F\\u6709\\u4E00\\u5B9A\\u6570\\u91CF\\u7EA7\\u7684\\u9519\\u8BEF\\uFF0C\\u56E0\\u6B64\\u6211\\u505C\\u6EDE\\u5728\\u6B64\"), mdx(\"h3\", null, \"\\u9879\\u76EE\\u542F\\u52A8\\u5931\\u8D25\"), mdx(\"p\", null, \"\\u7531\\u4E8E\\u5B58\\u5728\\u4E0A\\u6587\\u6240\\u8FF0\\u6709\\u4F9D\\u8D56\\u6CA1\\u6709\\u5B9E\\u73B0\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"PnP\"), \"\\u89C4\\u8303\\uFF0C\\u6240\\u4EE5\\u4F1A\\u5BFC\\u81F4\\u5DE5\\u7A0B\\u8FD8\\u662F\\u8DD1\\u4E0D\\u8D77\\u6765\\uFF0C\\u90A3\\u6211\\u4EEC\\u662F\\u4E0D\\u662F\\u53EA\\u80FD\\u5012\\u9000\\u56DEyarn 1.x\\u4E86\\uFF1F\\u5F53\\u7136\\u4E0D\\u4F1A\\uFF0CYarn2\\u63D0\\u4F9B\\u4E86\\u4E24\\u79CD\\u5B89\\u88C5\\u65B9\\u5F0F\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"PnP \\uFF08\\u9ED8\\u8BA4\\uFF09\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"node-modules\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"# .yarnrc.yml\\nyarnPath: \\\".yarn/releases/yarn-berry.js\\\"\\n\\n# \\u5982\\u679C\\u5DE5\\u7A0B\\u8DD1\\u4E0D\\u8D77\\u6765\\u53EF\\u4EE5\\u5148\\u5C1D\\u8BD5\\u542F\\u52A8\\u5BBD\\u677E\\u6A21\\u5F0F\\uFF1A\\nnodeLinker: \\\"pnp\\\"\\npnpMode: \\\"loose\\\" // \\u9ED8\\u8BA4\\u4E3A\\\"strict\\\"\\uFF0C\\u6240\\u6709\\u7528\\u5230\\u7684\\u4F9D\\u8D56\\u90FD\\u5FC5\\u987B\\u663E\\u5F0F\\u5730\\u58F0\\u660E\\u5728package.json\\u4E2D\\n\\n# \\u5982\\u679C\\u4ECD\\u7136\\u8DD1\\u4E0D\\u8D77\\u6765\\uFF0C\\u53EF\\u4EE5\\u7528\\u4E0B\\u9762\\u7684\\u914D\\u7F6E\\u5B8C\\u5168\\u6309\\u7167\\u4EE5\\u524D\\u7684\\u4F9D\\u8D56\\u6309\\u7167\\u65B9\\u5F0F\\nnodeLinker: \\\"node-modules\\\"\\n\")), mdx(\"h2\", null, \"\\u603B\\u7ED3\"), mdx(\"p\", null, \"\\u5347\\u7EA7Yarn2\\u7684\\u8FC7\\u7A0B\\u6BD4\\u6211\\u60F3\\u8C61\\u7684\\u8981\\u574E\\u5777\\uFF0C\\u8E29\\u4E86\\u4E0D\\u5C11\\u5751\\uFF0C\\u7FFB\\u9605\\u4E86\\u65E0\\u6570\\u7684issue\\uFF0C\\u76EE\\u524D\\u6211\\u505C\\u6EDE\\u5728\\u56E0\\u4E3A\\u4F9D\\u8D56\\u7F3A\\u5C11\\u800C\\u5BFC\\u81F4webpack\\u542F\\u52A8\\u5931\\u8D25\\u7684\\u73AF\\u8282\\uFF0C\\u6211\\u575A\\u4FE1\\u5B83\\u662F\\u6210\\u529F\\u8FC1\\u79FBYarn2\\u7684\\u6700\\u540E\\u4E00\\u6B65\\uFF0C\\u4F46\\u6211\\u76F8\\u4FE1\\u5728\\u540E\\u7EED\\u7684\\u4E0D\\u65AD\\u5B66\\u4E60\\u4E2D\\uFF0C\\u6B64\\u95EE\\u9898\\u7EC8\\u5C06\\u8FCE\\u5203\\u800C\\u89E3\\u3002\\u95EE\\u9898\\u89E3\\u51B3\\u540E\\u6211\\u4F1A\\u66F4\\u65B0\\u672C\\u6587\\u3002\"), mdx(\"p\", null, \"\\u867D\\u7136Yarn2\\u770B\\u4F3C\\u5E26\\u6765\\u4E86\\u75DB\\u70B9\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u5E76\\u4E14\\u4F5C\\u4E3A\\u5176\\u7A33\\u5B9A\\u7248\\u672C\\u7684v2\\u4E5F\\u5DF2\\u7ECF\\u53D1\\u5E03\\u4E00\\u5E74\\u4E86\\uFF0C\\u4F46\\u82E5\\u628A\\u5B83\\u4F5C\\u4E3A\\u5F53\\u524D\\u4EA7\\u54C1\\u7684\\u5347\\u7EA7\\u7684\\u6A21\\u5757\\u4E4B\\u4E00\\uFF0C\\u6211\\u8BA4\\u4E3A\\u8FD8\\u9700\\u89C2\\u671B\\uFF1B\\u4EFB\\u4F55\\u7684\\u4EA7\\u54C1\\u7684\\u7B2C\\u4E00\\u8981\\u70B9\\u662F\\u7A33\\u5B9A\\u6027\\uFF0C\\u4E14\\u90FD\\u6709\\u6216\\u591A\\u6216\\u5C11\\u7684\\u5386\\u53F2\\u5305\\u88B1\\u4EA6\\u6216\\u662F\\u4EA7\\u54C1\\u5F15\\u7528\\u7684\\u4F9D\\u8D56\\u5B9E\\u5219\\u5DF2\\u7ECF\\u4E0D\\u7EF4\\u62A4\\uFF0C\\u4F8B\\u5982\\uFF1A\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"moment\"), \"; \\u4ED6\\u4EEC\\u90FD\\u4F1A\\u6210\\u4E3A\\u5347\\u7EA7yarn2\\u8FC7\\u7A0B\\u4E2D\\u5E26\\u9690\\u60A3\\u7684\\u96F7\\u533A\\uFF0C\\u51B5\\u4E14\\u7248\\u672C\\u5207\\u6362\\u51E0\\u4E4E\\u5B8C\\u5168\\u4E0D\\u517C\\u5BB9\\uFF0C\\u64A4\\u56DEv1\\u7248\\u672C\\u4EE3\\u4EF7\\u4E5F\\u6BD4\\u8F83\\u5927\\uFF0C\\u7EFC\\u4E0A\\u6240\\u8FF0\\uFF0C\\u4E0D\\u63A8\\u8350\\u4EA7\\u54C1\\u73B0\\u5728\\u5347\\u7EA7\\uFF0C\\u4F46\\u662F\\u5468\\u671F\\u9879\\u76EE\\u6216\\u662F\\u811A\\u624B\\u67B6\\u53EF\\u4EE5\\u8FDB\\u884C\\u5B9E\\u88C5\\u3002\"), mdx(\"h4\", null, \"\\u53C2\\u8003\\u94FE\\u63A5\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/yarnpkg/yarn/issues/6953\"\n  }, \"Yarn\\u2019s Future - v2 and beyond\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/yarnpkg/rfcs/pull/101\"\n  }, \"Yarn Plug\\u2019n\\u2019Play: Getting rid of node_modules\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/yarnpkg/rfcs/files/2378943/Plugnplay.pdf\"\n  }, \"Plug\\u2019n\\u2019Play Whitepaper\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/yarnpkg/yarn/pull/6382\"\n  }, \"Yarn Plug\\u2019n\\u2019Play: Implementation\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://yarnpkg.com/en/docs/pnp\"\n  }, \"Yarn Website\"))));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Yarn   作为 JavaScript 生态的一个强大的依赖管理工具，在去年年初就正式发布了 V2 版本，但就当时的表现情况来看稳定性属实不高。时间一晃已经到了 2021 年，随着去年 webpack5 ， vite ， snowpack…","timeToRead":2,"banner":null}},"pageContext":{"slug":"/yarn-2-with-pn-p-升级指北","formatString":"DD.MM.YYYY"}},"staticQueryHashes":["3090400250","3090400250","318001574"]}